import{y as f,e as s,j as p,w as b,m as v,o as x,c as w,f as l,z as g,a as o,v as y}from"./index-95dfcbef.js";import{u as h}from"./chew-7895feda.js";import"./index-3b85fe61.js";const _={class:"container mx-auto my-5 p-5"},B={__name:"WriterView",setup(C){const n=f(),i=h(),r=s(null),e=s(""),u=p(()=>window.innerWidth<768);b(e,()=>{e.value?window.onbeforeunload=()=>!0:window.onbeforeunload=null,sessionStorage.setItem("chew-content",e.value)});function c(){e.value&&!confirm("確定要離開？")||n.replace("/coder")}async function d(){if(r.value.blur(),!e.value){alert("請輸入內容");return}if(!confirm("確定要送出？"))return;const t=await i.post("gum",{json:{type:"plain",content:e.value}}).json();sessionStorage.removeItem("chew-content"),n.replace(`/result/${t._id}`)}return v(()=>{const t=sessionStorage.getItem("chew-content");t&&(e.value=t)}),(t,a)=>(x(),w("div",_,[l(o("textarea",{ref_key:"textarea",ref:r,class:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none","onUpdate:modelValue":a[0]||(a[0]=m=>e.value=m)},null,512),[[g,e.value]]),o("div",null,[o("button",{class:"w-full mt-3 flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-violet-100 bg-violet-700 hover:bg-violet-600 md:py-4 md:text-lg md:px-10",onClick:d}," 我打完了 "),l(o("button",{class:"w-full mt-3 flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-violet-700 bg-violet-100 hover:bg-violet-200 md:py-4 md:text-lg md:px-10",onClick:c}," 你是工程師嗎？這裡是專業 Coding 模式 ",512),[[y,!u.value]])])]))}};export{B as default};
