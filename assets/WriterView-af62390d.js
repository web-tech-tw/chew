import{A as m,f as a,l as f,w as p,s as b,o as v,c as x,j as l,B as w,a as n,v as g}from"./index-00246809.js";import{u as y}from"./chew-5183d567.js";const h={class:"container mx-auto my-5 p-5"},S={__name:"WriterView",setup(_){const r=m(),s=a(null),e=a(""),i=f(()=>window.innerWidth<768);p(e,()=>{e.value?window.onbeforeunload=()=>!0:window.onbeforeunload=null,sessionStorage.setItem("chew-content",e.value)});function u(){e.value&&!confirm("確定要離開？")||r.replace("/coder")}async function c(){if(s.value.blur(),!e.value){alert("請輸入內容");return}if(!confirm("確定要送出？"))return;const o=await y().post("gums",{json:{type:"plain",content:e.value}}).json();sessionStorage.removeItem("chew-content"),r.replace(`/result/${o._id}`)}return b(()=>{const t=sessionStorage.getItem("chew-content");t&&(e.value=t)}),(t,o)=>(v(),x("div",h,[l(n("textarea",{ref_key:"textarea",ref:s,class:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none","onUpdate:modelValue":o[0]||(o[0]=d=>e.value=d)},null,512),[[w,e.value]]),n("div",null,[n("button",{class:"w-full mt-3 flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-violet-100 bg-violet-700 hover:bg-violet-600 md:py-4 md:text-lg md:px-10",onClick:c}," 我打完了 "),l(n("button",{class:"w-full mt-3 flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-violet-700 bg-violet-100 hover:bg-violet-200 md:py-4 md:text-lg md:px-10",onClick:u}," 你是工程師嗎？這裡是專業 Coding 模式 ",512),[[g,!i.value]])])]))}};export{S as default};
