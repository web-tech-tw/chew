import{y as d,e as m,j as f,w as p,m as b,o as v,c as w,f as s,z as x,a as o,v as g}from"./index-0f59be87.js";import{u as y}from"./chew-7895feda.js";import"./index-3b85fe61.js";const h={class:"container mx-auto my-5 p-5"},j={__name:"WriterView",setup(_){const n=d(),a=y(),e=m(""),i=f(()=>window.innerWidth<768);p(e,()=>{e.value?window.onbeforeunload=()=>!0:window.onbeforeunload=null,sessionStorage.setItem("chew-content",e.value)});function l(){e.value&&!confirm("確定要離開？")||n.replace("/coder")}async function u(){if(!e.value){alert("請輸入內容");return}if(!confirm("確定要送出？"))return;const t=await a.post("gum",{json:{type:"plain",content:e.value}}).json();sessionStorage.removeItem("chew-content"),n.replace(`/result/${t._id}`)}return b(()=>{const t=sessionStorage.getItem("chew-content");t&&(e.value=t)}),(t,r)=>(v(),w("div",h,[s(o("textarea",{class:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none","onUpdate:modelValue":r[0]||(r[0]=c=>e.value=c)},null,512),[[x,e.value]]),o("div",null,[o("button",{class:"w-full mt-3 flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-violet-100 bg-violet-700 hover:bg-violet-600 md:py-4 md:text-lg md:px-10",onClick:u}," 我打完了 "),s(o("button",{class:"w-full mt-3 flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-violet-700 bg-violet-100 hover:bg-violet-200 md:py-4 md:text-lg md:px-10",onClick:l}," 你是工程師嗎？這裡是專業 Coding 模式 ",512),[[g,!i.value]])])]))}};export{j as default};
